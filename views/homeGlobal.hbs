<h2> GLOBAL CASES </h2>
<p><strong id="currentDate">{{currentDate}}</strong></p>
<p><strong>As of {{caseDate}} </strong></p>
<div>
    <form method="POST" action="/latestUpdate">
        <button type='submit'>Get Latest Update</button>
    </form>
</div>

<div>
    <ul>
        <li>Confirmed Case: {{confirmedCases}}</li>
        <li>Recovered: {{recovered}}</li>
        <li>Deaths: {{deaths}}</li>
    </ul>
</div>

<div>
    <label>Select Country:</label>
    <form>
    <select id="countries">
        {{#each countries}}
        <option value="{{id}}">{{country}}{{flag}}</option>
        {{/each}}
    </select>
    <input type='button' onclick="myFunction()" value="Submit"/>
    </form>
</div>

<script>
    window.onload = function() {
        /* Update the date every second */
        window.setInterval(function() {
            updateDate()
        }, 1000)
    }

    function updateDate() {
        document.getElementById('currentDate').innerHTML = (new Date()).toString()
    }

    function myFunction() {
        let selectedCountry = document.getElementById('countries').value

        if( selectedCountry !== '') {
            window.location = "/country/"+selectedCountry
        }
    } 
</script>